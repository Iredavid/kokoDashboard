<aside class="sidebar" [class.reduced]="expanded===false">

  <div class="mobileMenu" [class.expanded]="expanded===false">
    <!-- <div class="menuBrand">]> -->
    <div class="menuBrand">
      <div class="logoMobile">JD</div>
    </div>
    <nav class="mobileNav">
      <ul class="mobileLists">
        @for(menuItems of menus; track menuItems){
        <!-- <a> -->

        <li matButton [matMenuTriggerFor]="menu" class="mobileItems">
          <i [class]="menuItems.icon"></i>
        </li>
        <!-- </a> -->
        <mat-menu #menu="matMenu" xPosition="after" yPosition="below">
          @for(itemList of menuItems.items; track itemList){

          <button mat-menu-item [routerLink]="itemList.route" routerLinkActive="active">{{itemList.label}}</button>
          }
        </mat-menu>
        }
      </ul>
    </nav>
  </div>

  @if(expanded){
  <div class="desktopSidebar">
    <div class="brand">
      <div class="logo">JD</div>
      <div class="title">KOKO</div>
    </div>
    <nav class="nav">

      <mat-accordion>
        @for(menuItems of menus; track menuItems){
        <div [class]="activeIndex === $index ? 'list' : ''">
          <mat-expansion-panel (opened)="onOpen($index)" (closed)="onClose($index)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <i [class]="menuItems.icon"></i>
              </mat-panel-title>
              <mat-panel-description>{{menuItems.title}}</mat-panel-description>
            </mat-expansion-panel-header>
            <ol>
              @for(itemList of menuItems.items; track itemList){
              <li><a [routerLink]="itemList.route" routerLinkActive="active">{{itemList.label}}</a></li>
              }
            </ol>
          </mat-expansion-panel>
        </div>
        }
      </mat-accordion>
      <div class="sidebar-footer">
        <a routerLink="/login">Sign out</a>
      </div>
    </nav>
  </div>
  }
</aside>